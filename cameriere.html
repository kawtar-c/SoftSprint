<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Area Cameriere ‚Äì Ristorante Softsprint</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- FONT-->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>

  <!-- NAVBAR  -->
  <header class="navbar">
  <div class="container navbar-inner">
    <div class="logo">Ristorante Softsprint</div>

    <nav class="nav-links"></nav> <!-- Vuoto perch√© non vuoi altre voci -->

    <div style="display:flex; gap:0.8rem;">
      <!-- BOTTONE  -->
      <a href="index.html" class="nav-cta">Home</a>

      <!-- LOGIN -->
      <a href="login.html" class="nav-cta">Login</a>
    </div>
  </div>
</header>

  <!-- TOPBAR CAMERIERE -->
  <header class="waiter-topbar">
    <div class="container topbar-inner">
      <div class="brand">
        <strong class="cameriere-title">üçΩÔ∏è Cameriere</strong>
      </div>

      <div class="topbar-center">
        <strong>Nuovo Ordine</strong><br>
        <select id="select-tavolo">
          <option value="1">Tavolo 1</option>
          <option value="2">Tavolo 2</option>
          <option value="3" selected>Tavolo 3</option>
          <option value="4">Tavolo 4</option>
        </select>
      </div>

      <div class="topbar-right">
       
      </div>
    </div>
  </header>

  <!-- CONTENUTO PRINCIPALE: DUE COLONNE -->
  <main class="container waiter-layout">

    <!-- COLONNA SINISTRA: MENU PIATTI -->
    <section class="menu-panel">
      <div class="menu-header">
        <h2>Menu</h2>
        
      </div>

      <div class="menu-category">
        <h3>Antipasti</h3>
        <ul>
          <li class="dish" data-name="Bruschette miste" data-price="5">
            <div>
              <strong>Bruschette miste</strong><br>
              <small>5 ‚Ç¨</small>
            </div>
            <button class="dish-add">+</button>
          </li>
<li class="dish" data-name="Formaggio fritto" data-price="5">
            <div>
              <strong>Formaggio fritto</strong><br>
              <small>5 ‚Ç¨</small>
            </div>
            <button class="dish-add">+</button>
          </li>
          <li class="dish" data-name="Tagliere di salumi" data-price="9">
            <div>
              <strong>Tagliere di salumi</strong><br>
              <small>9 ‚Ç¨</small>
            </div>
            <button class="dish-add">+</button>
          </li>
        </ul>
      </div>

      <div class="menu-category">
        <h3>Primi</h3>
        <ul>
          <li class="dish" data-name="Chitarra alla teramana" data-price="10">
            <div>
              <strong>Chitarra alla teramana</strong><br>
              <small>10 ‚Ç¨</small>
            </div>
            <button class="dish-add">+</button>
          </li>

          <li class="dish" data-name="Scrippelle" data-price="7">
            <div>
              <strong>Scrippelle</strong><br>
              <small>7 ‚Ç¨</small>
            </div>
            <button class="dish-add">+</button>
          </li>
          <li class="dish" data-name="Timballo" data-price="10">
            <div>
              <strong>Timballo</strong><br>
              <small>10 ‚Ç¨</small>
            </div>
            <button class="dish-add">+</button>
          </li>
        </ul>
      </div>
      <div class="menu-category">
        <h3>Secondi</h3>
        <ul>
          <li class="dish" data-name="Mazzarele teramane" data-price="5">
            <div>
              <strong>Mazzarelle teramane</strong><br>
              <small>5 ‚Ç¨ </small>
            </div>
            <button class="dish-add">+</button>
          </li>
<li class="dish" data-name="arrosticini" data-price="10">
            <div>
              <strong>Arrosticini</strong><br>
              <small>10 ‚Ç¨</small>
            </div>
            <button class="dish-add">+</button>
          </li>
          <li class="dish" data-name="pecora alla callara" data-price="12">
            <div>
              <strong>Pecora alla callara</strong><br>
              <small>12 ‚Ç¨</small>
            </div>
            <button class="dish-add">+</button>
          </li>
        </ul>
      </div>
      <div class="menu-category">
        <h3>Dolci</h3>
        <ul>
          <li class="dish" data-name="Pizza dolce" data-price="5">
            <div>
              <strong>pizza dolce</strong><br>
              <small>5 ‚Ç¨</small>
            </div>
            <button class="dish-add">+</button>
          </li>

          <li class="dish" data-name="bocconotti" data-price="5">
            <div>
              <strong>Bocconotti</strong><br>
              <small>5 ‚Ç¨</small>
            </div>
            <button class="dish-add">+</button>
          </li>
          <li class="dish" data-name="Ferratelle" data-price="5">
            <div>
              <strong>Ferratelle</strong><br>
              <small>5 ‚Ç¨</small>
            </div>
            <button class="dish-add">+</button>
          </li>
        </ul>
      </div>
    </section>

    <!-- COLONNA DESTRA: RIEPILOGO ORDINE -->
    <aside class="order-panel">
      <header class="order-header">
        <h2 id="ordine-titolo">Ordine Tavolo 3</h2>
      </header>

      <ul class="order-items" id="order-items">
        <!-- Qui JS inserir√† le righe -->
      </ul>

      <div>
        <label for="note-cucina">Note per la cucina:</label>
        <textarea id="note-cucina" rows="3" placeholder="Es. senza pepe, pi√π cottura..."></textarea>
      </div>

      <div class="order-footer">
        <div class="order-total">
          <span>Totale stimato</span>
          <strong id="order-total">0 ‚Ç¨</strong>
        </div>

        <div class="order-actions">
          <button class="btn-secondary" id="btn-svuota">Svuota</button>
          <button class="btn-primary">Invia in cucina</button>
        </div>
      </div>
    </aside>

  </main>

  <!-- JS  PER IL "+" -->
  <script>
    // Cambio titolo ordine in base al tavolo
    const selectTavolo = document.getElementById('select-tavolo');
    const ordineTitolo = document.getElementById('ordine-titolo');
    selectTavolo.addEventListener('change', () => {
      ordineTitolo.textContent = 'Ordine Tavolo ' + selectTavolo.value;
    });

    const orderItemsEl = document.getElementById('order-items');
    const totalEl = document.getElementById('order-total');

    function aggiornaTotale() {
      let totale = 0;
      orderItemsEl.querySelectorAll('.order-item').forEach(item => {
        const price = parseFloat(item.dataset.price);
        const qty = parseInt(item.querySelector('.qty').textContent, 10);
        totale += price * qty;
      });
      totalEl.textContent = totale.toFixed(2).replace('.', ',') + ' ‚Ç¨';
    }

    // Aggiungi piatto all'ordine
    document.querySelectorAll('.dish-add').forEach(btn => {
      btn.addEventListener('click', () => {
        const li = btn.closest('.dish');
        const name = li.dataset.name;
        const price = parseFloat(li.dataset.price);

        // controlla se esiste gi√†
        let existing = Array.from(orderItemsEl.children).find(
          item => item.dataset.name === name
        );

        if (existing) {
          const qtySpan = existing.querySelector('.qty');
          qtySpan.textContent = parseInt(qtySpan.textContent, 10) + 1;
        } else {
          const item = document.createElement('li');
          item.className = 'order-item';
          item.dataset.name = name;
          item.dataset.price = price;

          item.innerHTML = `
            <span class="order-item-name">${name}</span>
            <div class="qty-controls">
              <button class="qty-minus">-</button>
              <span class="qty">1</span>
              <button class="qty-plus">+</button>
            </div>
            <strong class="order-item-price">${price.toFixed(2).replace('.', ',')} ‚Ç¨</strong>
          `;
          orderItemsEl.appendChild(item);
        }
        aggiornaTotale();
      });
    });

    // Gestione + e - dentro il riepilogo (delegation)
    orderItemsEl.addEventListener('click', (e) => {
      if (e.target.classList.contains('qty-plus') || e.target.classList.contains('qty-minus')) {
        const item = e.target.closest('.order-item');
        const qtySpan = item.querySelector('.qty');
        let qty = parseInt(qtySpan.textContent, 10);

        if (e.target.classList.contains('qty-plus')) {
          qty++;
        } else {
          qty--;
        }

        if (qty <= 0) {
          item.remove();
        } else {
          qtySpan.textContent = qty;
        }
        aggiornaTotale();
      }
    });

    // Svuota ordine
    document.getElementById('btn-svuota').addEventListener('click', () => {
      orderItemsEl.innerHTML = '';
      aggiornaTotale();
    });
  </script>

</body>
</html>
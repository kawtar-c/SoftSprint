<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Cucina ‚Äì Ristorante Softsprint</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS  -->
  <link rel="stylesheet" href="style.css">

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>

  <!-- NAVBAR -->
  <header class="navbar">
    <div class="container navbar-inner">
      <div class="logo">Ristorante Softsprint</div>
      <nav class="nav-links"></nav>

      <div class="nav-right-buttons">
        <a href="index.html" class="nav-cta">Home</a>
        <a href="login.html" class="nav-cta">Login</a>
      </div>
    </div>
  </header>

  <!-- TOPBAR CUCINA -->
  <header class="kitchen-topbar">
    <div class="container kitchen-topbar-inner">
      <div class="kitchen-brand">
        <span class="kitchen-icon">üë®‚Äçüç≥</span>
        <span class="kitchen-title">Cucina ‚Äì Ordini in arrivo</span>
      </div>

      <div class="kitchen-filters">
        <label for="filtro-stato">Stato:</label>
        <select id="filtro-stato">
          <option value="tutti">Tutti</option>
          <option value="nuovo" selected>Nuovi</option>
          <option value="preparazione">In preparazione</option>
          <option value="pronto">Pronti</option>
        </select>
      </div>

      <div class="kitchen-meta">
        
      </div>
    </div>
  </header>

  <!-- LISTA ORDINI -->
  <main class="container kitchen-layout">
    <section class="orders-panel">

      <!-- ORDINE 1 -->
      <article class="order-card" data-stato="nuovo">
        <header class="order-card-header">
          <div>
            <h2>Tavolo 3</h2>
            
          </div>
          <span class="order-status status-nuovo">Nuovo</span>
        </header>

        <ul class="order-card-items">
          <li><span class="item-qty">2√ó</span> <span class="item-name">Spaghetti alla carbonara</span></li>
          <li><span class="item-qty">1√ó</span> <span class="item-name">Bruschette miste</span></li>
        </ul>

        <div class="order-card-notes">
          <strong>Note:</strong> 1 carbonara senza pepe, bruschette senza aglio.
        </div>

        <div class="order-card-footer">
          <span class="order-time">Ricevuto alle 20:14</span>
          <div class="order-actions">
            <button class="btn-secondary state-btn" data-state="preparazione">In preparazione</button>
            <button class="btn-primary state-btn" data-state="pronto">Pronto</button>
          </div>
        </div>
      </article>

      <!-- ORDINE 2 -->
      <article class="order-card" data-stato="nuovo">
        <header class="order-card-header">
          <div>
            <h2>Tavolo 1</h2>
           
          </div>
          <span class="order-status status-nuovo">Nuovo</span>
        </header>

        <ul class="order-card-items">
          <li><span class="item-qty">1√ó</span> <span class="item-name">Lasagne al rag√π</span></li>
          <li><span class="item-qty">2√ó</span> <span class="item-name">Mazzarelle</span></li>
        </ul>

        <div class="order-card-notes">
          <strong>Note:</strong> Nessuna nota.
        </div>

        <div class="order-card-footer">
          <span class="order-time">Ricevuto alle 20:18</span>
          <div class="order-actions">
            <button class="btn-secondary state-btn" data-state="preparazione">In preparazione</button>
            <button class="btn-primary state-btn" data-state="pronto">Pronto</button>
          </div>
        </div>
      </article>

      <!-- ORDINE 3 -->
      <article class="order-card" data-stato="nuovo">
        <header class="order-card-header">
          <div>
            <h2>Tavolo 4</h2>
           
          </div>
          <span class="order-status status-nuovo">Nuovo</span>
        </header>

        <ul class="order-card-items">
          <li><span class="item-qty">3√ó</span> <span class="item-name">Bocconotti</span></li>
        </ul>

        <div class="order-card-notes">
          <strong>Note:</strong> Servire tutti insieme.
        </div>

        <div class="order-card-footer">
          <span class="order-time">Ricevuto alle 20:20</span>
          <div class="order-actions">
            <button class="btn-secondary state-btn" data-state="preparazione">In preparazione</button>
            <button class="btn-primary state-btn" data-state="pronto">Pronto</button>
          </div>
        </div>
      </article>

    </section>
  </main>

  <!-- SCRIPT: CAMBIO STATO + FILTRO -->
  <script>
    const filtro = document.getElementById('filtro-stato');
    const cards = document.querySelectorAll('.order-card');

    function applicaFiltro() {
      const valore = filtro.value;
      cards.forEach(card => {
        const stato = card.dataset.stato;
        card.style.display = (valore === 'tutti' || stato === valore) ? '' : 'none';
      });
    }

    function aggiornaStato(card, nuovoStato) {
      card.dataset.stato = nuovoStato;

      const badge = card.querySelector('.order-status');
      badge.classList.remove('status-nuovo', 'status-preparazione', 'status-pronto');

      if (nuovoStato === 'preparazione') {
        badge.textContent = 'In preparazione';
        badge.classList.add('status-preparazione');
      } else if (nuovoStato === 'pronto') {
        badge.textContent = 'Pronto';
        badge.classList.add('status-pronto');
      } else {
        badge.textContent = 'Nuovo';
        badge.classList.add('status-nuovo');
      }

      applicaFiltro();
    }

    filtro.addEventListener('change', applicaFiltro);

    cards.forEach(card => {
      card.addEventListener('click', (e) => {
        if (e.target.classList.contains('state-btn')) {
          const stato = e.target.dataset.state;
          aggiornaStato(card, stato);
        }
      });
    });

    applicaFiltro();
  </script>

</body>
</html>
